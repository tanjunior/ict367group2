<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Unity WebGL Player | %UNITY_WEB_NAME%</title>
  <meta name="description" content="%UNITY_CUSTOM_DESCRIPTION%">
  <link rel="shortcut icon" href="TemplateData/favicon.ico">
  <link rel="stylesheet" href="TemplateData/style.css">
  <script src="TemplateData/UnityProgress.js"></script>
  <script src="%UNITY_WEBGL_LOADER_URL%"></script>
  <script>
    UnityLoader.compatibilityCheck = function (unityInstance, onsuccess, onerror) {
      if (!UnityLoader.SystemInfo.hasWebGL) {
        unityInstance.popup('Your browser does not support WebGL',
          [{ text: 'OK', callback: onerror }]);
      } else {
        onsuccess();
      }
    }
      % UNITY_CUSTOM_WEBXR_POLYFILL_CONFIG %
      var unityInstance = UnityLoader.instantiate("unityContainer", "%UNITY_WEBGL_BUILD_URL%", { onProgress: UnityProgress });
  </script>
</head>

<body>
  <div style="position:absolute; left:0px">
    <h2>Controls:</h2>
    <h3>Controls for VR</h3>
    Move vr controller to move hands
    Press left/right grip to grab the steering wheel/handbrake or gearbox
    Grab and turn the steering wheel to turn it
    Grab and push the handbrake down or up to brake or brake
    Grab and move up to increase gear and grab and move down to decrease gear
    Pressing the Y button will allow the player to open the menu which allows the player to go to the main menu or
    restart the level
    Turning your head would also turn the view
    B toggle hologram
    <h3>Controls for PC</h3>
    The controls include for PC:
    [W] to accelerate
    [Left and right click] to change gear
    [H] for handbrake
    [space-bar] for braking
    [A] and [D] to turn the steering wheel and
    [moving the mouse] to turn the view for the PC version.
    [tab] toggle hologram
    <h2>Credits</h2>
    Red Brick Building (Iridesium)
    From: https://free3d.com/3d-model/red-brick-building-35698.html by chocolatechipmonster
    Audio Specifications:
    audio: silent-wood (background music)
    By Purple Cat
    audio: 242740_marlonhj_engine (engine sound)
    Link: https://freesound.org/people/marlonhj/sounds/242740/ by Marlonhj Car crash sound effect version 1
    Audio: big thud2
    by: Reitanna
    Graphic Specifications:
    (car model)
    https://sketchfab.com/3d-models/stock-honda-civic-ep3-7d9c9fb0b7c94e998059e652ad9d3028
  </div>
  <div class="webgl-content">

    <div id="unityContainer" style="width: %UNITY_WIDTH%px; height: %UNITY_HEIGHT%px"></div>
    <div class="footer">
      <div class="webgl-logo"></div>
      <button class="entervr" id="entervr" value="Enter VR" disabled>VR</button>
      <button class="enterar" id="enterar" value="Enter AR" disabled>AR</button>
      <div class="webxr-link">Using <a href="https://github.com/De-Panther/unity-webxr-export" target="_blank"
          title="WebXR Export">WebXR Export</a></div>
      <div class="title">%UNITY_WEB_NAME%</div>
    </div>
  </div>
  <script>
    let enterARButton = document.getElementById('enterar');
    let enterVRButton = document.getElementById('entervr');

    document.addEventListener('onARSupportedCheck', function (event) {
      enterARButton.disabled = !event.detail.supported;
    }, false);
    document.addEventListener('onVRSupportedCheck', function (event) {
      enterVRButton.disabled = !event.detail.supported;
    }, false);

    enterARButton.addEventListener('click', function (event) {
      unityInstance.Module.WebXR.toggleAR();
    }, false);
    enterVRButton.addEventListener('click', function (event) {
      unityInstance.Module.WebXR.toggleVR();
    }, false);
  </script>
</body>

</html>